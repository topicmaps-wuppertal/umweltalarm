(this.webpackJsonpumweltalarm=this.webpackJsonpumweltalarm||[]).push([[0],{368:function(e,t,n){},477:function(e,t,n){},869:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(22),i=n.n(s),c=(n(477),n(7)),l=n(9),o=n(10),d=n.n(o),u=n(21),b=n(11),h=(n(335),n(336),n(14)),p=n.n(h),j=(n(337),n(79)),f=n(27),g=n(165),v=n(86),m=(n(367),n(179)),x=(n(368),n(334)),O=n.n(x),y=n(454),k=n.n(y),w=n(876),z=n(877),S=n(879),A=n(18),F=n(51),L=n(28),B=n(26),_=n(72),C=n(170),D=n(239),K=n(266),P=function(){var e=Object(u.a)(d.a.mark((function e(t,n,r,a,s){var i,c,l,o,u,b,h,p,j,f,g,v;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.table("daq_meta").get({name:a});case 2:if(i=e.sent,c=null,null!=i&&(c=i.md5),console.log("DAQ for "+a),l={parameters:{daqKey:a,md5:c||"-"}},(o=new FormData).append("taskparams",new Blob([JSON.stringify(l)],{type:"application/json"})),"--cached--data--"!==r){e.next=15;break}return"data retrieved",u=i.time,e.abrupt("return",new Promise((function(e,t){e({data:"data retrieved",time:u})})));case 15:return e.next=17,fetch(n+"/actions/WUNDA_BLAU.dataAquisition/tasks?resultingInstanceType=result",{method:"POST",headers:{Authorization:"Bearer "+r},body:o});case 17:if(!((b=e.sent).status>=200&&b.status<300)){e.next=58;break}return e.next=21,b.json();case 21:if(!(h=e.sent).res){e.next=55;break}if(e.prev=23,p=JSON.parse(h.res),200!==(j=p.status)){e.next=46;break}if(console.log("DAQ cache miss for "+a),f=JSON.parse(p.content),g=p.time,(v={}).md5=p.md5,v.time=g,v.name=a,console.log("new md5: "+v.md5),null==i){e.next=40;break}return e.next=38,s.table("daq_meta").update(i.id,v);case 38:e.next=41;break;case 40:s.table("daq_meta").add(v);case 41:if(!(f&&f[0]&&f[0].geojson)){e.next=44;break}return e.next=44,I(f,a,t,s);case 44:e.next=47;break;case 46:304===j&&(console.log("DAQ cache hit for "+a),null!=i&&(g=i.time,f="data retrieved"));case 47:return e.abrupt("return",new Promise((function(e,t){e({data:f,daqKey:a,time:g})})));case 50:return e.prev=50,e.t0=e.catch(23),e.abrupt("return",new Promise((function(t,n){n({status:500,desc:"error when parsing the server result. probably the content has the wrong structure",content:h,exception:e.t0})})));case 53:e.next=56;break;case 55:return e.abrupt("return",new Promise((function(e,t){t({status:500,desc:"error when parsing the server result.",content:h})})));case 56:e.next=63;break;case 58:if(401!==b.status){e.next=62;break}return e.abrupt("return",new Promise((function(e,t){t({status:b.status,daqKey:a,desc:"unauthorized"})})));case 62:return e.abrupt("return",new Promise((function(e,t){t({status:b.status,daqKey:a,desc:"unknown"})})));case 63:case"end":return e.stop()}}),e,null,[[23,50]])})));return function(t,n,r,a,s){return e.apply(this,arguments)}}(),I=function(){var e=Object(u.a)(d.a.mark((function e(t,n,r,a){var s,i,c,o,u,b,h,p,j,f,g;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new C.a(t.length),i=a.table(n),e.next=4,i.clear();case 4:c=[],o=Object(l.a)(t);try{for(o.s();!(u=o.n()).done;)b=u.value,h=W(b.geojson),p=s.add(h[0][1],h[0][0],h[1][1],h[1][0]),(j={}).gid=p,j.data=b,c.push(j)}catch(r){o.e(r)}finally{o.f()}return e.next=9,i.bulkPut(c);case 9:return s.finish(),e.next=12,a.table("daq_meta").get({name:n});case 12:return f=e.sent,(g={}).pol_index=s.data,e.next=17,a.table("daq_meta").update(f.id,g);case 17:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(d.a.mark((function e(t,n,r){var a,s,i,c,o,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.table("anprechp"),e.next=3,a.clear();case 3:s=[],i=Object(l.a)(t);try{for(i.s();!(c=i.n()).done;)o=c.value,(u={}).id=o.id,u.data=o,s.push(u)}catch(n){i.e(n)}finally{i.f()}return e.next=8,a.bulkPut(s);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(d.a.mark((function e(t,n,r){var a,s,i,c,o,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.table("zustaendigkeit"),e.next=3,a.clear();case 3:s=[],i=Object(l.a)(t);try{for(i.s();!(c=i.n()).done;)o=c.value,(u={}).id=o.id,u.tabelle=o.tabelle,u.referenz=o.referenz,u.referenzfeld=o.referenzfeld,u.data=o,s.push(u)}catch(n){i.e(n)}finally{i.f()}return e.next=8,a.bulkPut(s);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),W=function(e){var t=Object(K.a)(e);return[[t[1],t[0]],[t[3],t[2]]]},R=n(177),E=n(470),M=n(138),G=n(139),q={StoerfallBetriebeKlasse1:"betrieb",StoerfallBetriebeKlasse2:"betrieb",wasserverbaende:"name",wasserschutzgebiete:"zone",autobahnmeisterei:"bezirk",landschaftsschutzgebiete:"sg_typ",naturschutzgebiete:"sg_nummer",strassenmeisterei:"bezirk",bimschNrw:"astnr",bimschWuppertal:"astnr",trinkwasserbrunnen:"str_name",stadtFlurstuecke:"dienststellen"},J={StoerfallBetriebeKlasse1:"stoerfallbetriebe_klasse1",StoerfallBetriebeKlasse2:"stoerfallbetriebe_klasse2",wasserverbaende:"wasserverbaende",wasserschutzgebiete:"wasserschutzgebiete",autobahnmeisterei:"autobahnmeisterei",landschaftsschutzgebiete:"landschaftsschutzgebiete",naturschutzgebiete:"naturschutzgebiete",strassenmeisterei:"strassenmeisterei",bimschNrw:"bimsch_nrw",bimschWuppertal:"bimsch_wuppertal",trinkwasserbrunnen:"trinkwasserbrunnen",stadtFlurstuecke:"stadt_flurstuecke"},U=function(){var e=Object(u.a)(d.a.mark((function e(t,n,r){var a,s,i,c,o,u,b,h,p,j,f,g,v,m,x,O,y,k,w,z,S,A,F,L,B,_,D,K,P,I,N,T,E,G,J,U,Y,Q;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],s=W(r),i=t.table("anprechp"),c=t.table("zustaendigkeit"),o=null,u=null,b=null,h=null,p=[],j=[],f=[],g=Object(l.a)(n),e.prev=12,g.s();case 14:if((v=g.n()).done){e.next=114;break}return m=v.value,e.next=18,t.table("daq_meta");case 18:if(!(x=e.sent)){e.next=112;break}return e.next=22,x.get({name:m});case 22:return O=e.sent,e.next=25,t.table(m);case 25:if(y=e.sent,!O){e.next=112;break}if(null==(k=O.pol_index)){e.next=112;break}if(w=C.a.from(k),null==(z=w.search(s[0][1],s[0][0],s[1][1],s[1][0]))){e.next=112;break}S=Object(l.a)(z),e.prev=33,S.s();case 35:if((A=S.n()).done){e.next=104;break}return F=A.value,e.next=39,y.get(F);case 39:if(null==(L=e.sent)){e.next=102;break}if((B=L.data).typ=m,_=B.geojson,!Object(R.a)(_,r)){e.next=102;break}if("trinkwasserbrunnen"!==m){e.next=53;break}return D=H(r,_),e.next=49,Z(m,B,i,c);case 49:B.abstand=Math.round(D),null===u||u>D?(null!==o&&j.push(o),o=B,u=D):j.push(B),e.next=101;break;case 53:if("bimschNrw"!==m&&"bimschWuppertal"!==m){e.next=61;break}return K=H(r,_),e.next=57,Z(m,B,i,c);case 57:B.abstand=Math.round(K),null===h||h>K?(null!==b&&p.push(b),b=B,h=K):p.push(B),e.next=101;break;case 61:if("stadtFlurstuecke"!==m){e.next=98;break}if(!((P=B.dienststellen.split("#")).length>1)){e.next=92;break}I=B.dienststellen,N=[],T=Object(l.a)(P),e.prev=67,T.s();case 69:if((E=T.n()).done){e.next=78;break}return G=E.value,B.dienststellen=G,delete B.ansprechpartner,e.next=75,Z(m,B,i,c);case 75:void 0!==B.ansprechpartner&&N.push(B.ansprechpartner);case 76:e.next=69;break;case 78:e.next=83;break;case 80:e.prev=80,e.t0=e.catch(67),T.e(e.t0);case 83:return e.prev=83,T.f(),e.finish(83);case 86:B.dienststellen=I,B.ansprechpartner=N,null!==r&&"Point"!==r.geometry.type&&(J=Object(M.a)(r),Object(R.a)(_,J.geometry)?B.abstand=0:(U=H(r,_),B.abstand=Math.round(U))),f.push(B),e.next=96;break;case 92:return e.next=94,Z(m,B,i,c);case 94:null!==r&&"Point"!==r.geometry.type&&(Y=Object(M.a)(r),Object(R.a)(_,Y.geometry)?B.abstand=0:(Q=H(r,_),B.abstand=Math.round(Q))),f.push(B);case 96:e.next=101;break;case 98:return e.next=100,Z(m,B,i,c);case 100:a.push(B);case 101:B.default_name=B[q[m]];case 102:e.next=35;break;case 104:e.next=109;break;case 106:e.prev=106,e.t1=e.catch(33),S.e(e.t1);case 109:return e.prev=109,S.f(),e.finish(109);case 112:e.next=14;break;case 114:e.next=119;break;case 116:e.prev=116,e.t2=e.catch(12),g.e(e.t2);case 119:return e.prev=119,g.f(),e.finish(119);case 122:return null!==f&&f.length>0&&(f.sort(V),Array.prototype.push.apply(a,f)),null!==o&&(a.push(o),j.sort(V),Array.prototype.push.apply(a,j)),null!==b&&(a.push(b),p.sort(V),Array.prototype.push.apply(a,p)),a&&(a=a.filter((function(e,t,n){if("StoerfallBetriebeKlasse2"===e.typ){var r,s=Object(l.a)(a);try{for(s.s();!(r=s.n()).done;){var i=r.value;if("StoerfallBetriebeKlasse1"===i.typ&&i.betrieb===e.betrieb)return!1}}catch(c){s.e(c)}finally{s.f()}return!0}return!0}))),e.abrupt("return",a);case 127:case"end":return e.stop()}}),e,null,[[12,116,119,122],[33,106,109,112],[67,80,83,86]])})));return function(t,n,r){return e.apply(this,arguments)}}(),V=function(e,t){return e.abstand<t.abstand?-1:e.abstand>t.abstand?1:0},H=function(e,t){var n=Object(M.a)(e),r=[n.geometry.coordinates[0],n.geometry.coordinates[1]],a=Object(G.a)(G.a.defs("EPSG:3857"),G.a.defs("EPSG:4326"),r),s=Object(M.a)(t),i=[s.geometry.coordinates[0],s.geometry.coordinates[1]],c=Object(G.a)(G.a.defs("EPSG:3857"),G.a.defs("EPSG:4326"),i);return 1e3*Object(E.a)(a,c,{unit:"kilometers"})*1.6},Z=function(){var e=Object(u.a)(d.a.mark((function e(t,n,r,a){var s,i,c,l,o,u,b,h,p,j;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=J[t],i=Object.keys(n),c=!1,l=0,o=i;case 4:if(!(l<o.length)){e.next=19;break}if("geojson"===(u=o[l])||void 0===n[u]||null===n[u]){e.next=16;break}return e.next=9,a.get({tabelle:s,referenz:n[u],referenzfeld:u});case 9:if(!(b=e.sent)){e.next=16;break}return e.next=13,r.get({id:""+b.data.ansprechpartner});case 13:return(h=e.sent)&&(Y(h.data),n.ansprechpartner=h.data,c=!0),e.abrupt("break",19);case 16:l++,e.next=4;break;case 19:if(!1!==c){e.next=28;break}return e.next=22,a.get({tabelle:s,referenz:"null",referenzfeld:"null"});case 22:if(!(p=e.sent)){e.next=28;break}return e.next=26,r.get({id:""+p.data.ansprechpartner});case 26:(j=e.sent)&&(Y(j.data),n.ansprechpartner=j.data);case 28:return e.abrupt("return",n);case 29:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Y=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];null===e[r]&&(e[r]=void 0)}},Q=function(){var e=Object(u.a)(d.a.mark((function e(t,n){var r,a,s,i,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=null,a=Object(l.a)(n),e.prev=2,a.s();case 4:if((s=a.n()).done){e.next=21;break}return i=s.value,e.next=8,t.table("daq_meta");case 8:if(null==(c=e.sent)){e.next=19;break}return e.next=12,c.get({name:i});case 12:if(null==(o=e.sent)){e.next=17;break}r=o.time,e.next=19;break;case 17:return console.log("offline data for key "+i+" not available"),e.abrupt("return",null);case 19:e.next=4;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(2),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:return e.abrupt("return",r);case 30:case"end":return e.stop()}}),e,null,[[2,23,26,29]])})));return function(t,n){return e.apply(this,arguments)}}(),X=n(2);O.a.extend(k.a);var $=function(e){var t=e.setJWT,n=void 0===t?function(e){console.log("you need to set the attribute setJWT in the <Login> component",e)}:t,a=e.loginInfo,s=e.setLoginInfo,i=void 0===s?function(){}:s,c=e.setLoggedOut;console.log("xxx loginform mounted");var l=Object(r.useContext)(L.a).windowSize,o=Object(r.useContext)(F.b).setMetaInformation,h=Object(r.useContext)(B.b).setAppMenuVisible,j=Object(r.useRef)(),f=Object(r.useRef)(),g={overflowY:"auto",overflowX:"hidden",maxHeight:(null===l||void 0===l?void 0:l.height)||620},v=Object(r.useState)(""),m=Object(b.a)(v,2),x=m[0],y=m[1],k=Object(r.useState)(""),C=Object(b.a)(k,2),D=C[0],K=C[1],P=Object(r.useState)(!1),I=Object(b.a)(P,2),N=I[0],T=I[1];window.localforage=p.a;var W=function(e){p.a.setItem("@"+Je+".auth.user",e),y(e)};Object(r.useEffect)((function(){h(!1)}),[]),Object(r.useEffect)((function(){Object(u.a)(d.a.mark((function e(){var t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.getItem("@"+Je+".auth.user");case 2:return t=e.sent,e.next=5,Q(He,Ve);case 5:n=e.sent,T(null!==n&&void 0!==n),null!==n&&void 0!==n&&(r=O()(n,"YYYY-MM-DD hh:mm:ss").toDate(),o({time:r})),t&&W(t),(null===f||void 0===f?void 0:f.current)&&(f.current.focus(),f.current.select());case 10:case"end":return e.stop()}}),e)})))()}),[o]);var R=function(){fetch("https://umweltalarm-api.cismet.de/users",{method:"GET",headers:{Authorization:"Basic "+btoa(x+"@WUNDA_BLAU:"+D),"Content-Type":"application/json"}}).then((function(e){e.status>=200&&e.status<300?e.json().then((function(e){var t=e.jwt;i({color:"#79BD9A",text:"Anmeldung erfolgreich. Daten werden geladen."}),setTimeout((function(){n(t),c(!1),i()}),500)})):(i({color:"#FF8048",text:"Bei der Anmeldung ist ein Fehler aufgetreten. "}),setTimeout((function(){i()}),2500))})).catch((function(e){i({color:"#FF3030",text:"Bei der Anmeldung ist ein Fehler aufgetreten."}),setTimeout((function(){i()}),2500)}))};return Object(X.jsxs)(w.a,{style:{zIndex:3e9},height:"100%",size:"l",show:!0,keyboard:!1,children:[Object(X.jsx)(w.a.Header,{children:Object(X.jsx)(w.a.Title,{children:Object(X.jsx)("div",{children:Object(X.jsxs)("div",{children:[Object(X.jsx)(A.a,{name:"user"})," Anmeldung"]})})})}),Object(X.jsx)(w.a.Body,{style:g,id:"potenzialflaechen-online",children:Object(X.jsxs)(z.a,{children:[Object(X.jsxs)(z.a.Group,{controlId:"potenzialflaechen-online-login",children:[Object(X.jsx)(z.a.Label,{children:"WuNDa Benutzername"}),Object(X.jsx)(z.a.Control,{value:x,ref:f,onChange:function(e){W(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&j.current&&j.current.focus()},placeholder:"Login hier eingeben"})]}),Object(X.jsxs)(z.a.Group,{controlId:"potenzialflaechen-online-pass",children:[Object(X.jsx)(z.a.Label,{children:"Passwort"}),Object(X.jsx)(z.a.Control,{ref:j,value:D,onChange:function(e){K(e.target.value)},type:"password",placeholder:"Password",onKeyPress:function(e){"Enter"===e.key&&R()}})]}),Object(X.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"baseline",flexDirection:"row",justifyContent:"space-between"},children:[(null===a||void 0===a?void 0:a.text)&&Object(X.jsx)("div",{style:{margin:10,color:(null===a||void 0===a?void 0:a.color)||"black",maxWidth:200},children:Object(X.jsx)("b",{children:null===a||void 0===a?void 0:a.text})}),Object(X.jsx)("div",{style:{flexShrink:100}}),Object(X.jsxs)("div",{children:[!0===N&&Object(X.jsx)(S.a,{onClick:function(e){i({color:"#79BD9A",text:"Alte Daten werden aus dem Cache \xfcbernommen."}),setTimeout((function(){n(_.a),c(!1),i()}),500)},style:{margin:5,marginTop:30},variant:"secondary",children:"Offline arbeiten"}),Object(X.jsx)(S.a,{onClick:function(e){R()},style:{margin:5,marginTop:30},variant:"primary",children:"Anmeldung"})]})]})]})},"login")]})},ee=function(e){var t,n,a,s,i=e.logout,c=e.jwt,l=Object(r.useContext)(L.a).windowSize,o=Object(r.useContext)(F.a).metaInformation;if(o){var d=o.time;t=new Date(d).toLocaleString()}if(c===_.a)n="Daten aus dem Cache",s="anmelden und Daten aktualisieren";else try{a=atob(c.split(".")[1]),n=JSON.parse(a).sub,s="abmelden"}catch(b){}var u=Object(X.jsxs)("div",{children:[Object(X.jsx)("b",{children:"Umweltalarm"})," (",n+(void 0!==t?", "+t:""),")",Object(X.jsx)("div",{style:{float:"right",paddingRight:10},children:Object(X.jsx)("a",{style:{color:"#337ab7"},onClick:function(){i()},children:s})})]});return Object(X.jsx)("table",{style:{width:((null===l||void 0===l?void 0:l.width)||300)-54-12-38-12+"px",height:"30px",position:"absolute",left:54,top:12,zIndex:555},children:Object(X.jsx)("tbody",{children:Object(X.jsx)("tr",{children:Object(X.jsx)("td",{style:{textAlign:"center",verticalAlign:"middle",background:"#ffffff",color:"black",opacity:"0.9",paddingLeft:"10px"},children:u})})})})},te=n(8),ne=n(35),re=n(90),ae=n(117),se=n.n(ae),ie=n(248),ce=n(468),le=n(93),oe=n.n(le),de=n(469),ue=n(249),be=n.n(ue),he="WINDOW",pe="CENTER",je=function(e){var t=e.hits,n=e.mode,a=e.setFeatureCollectionVisible,s=e.isFeatureCollectionVisible,i=Object(r.useContext)(B.a).collapsedInfoBox,c=Object(r.useContext)(B.b),o=c.setCollapsedInfoBox,d=c.setSecondaryInfoVisible,u={};if(Array.isArray(t)){var b,h=Object(l.a)(t);try{for(h.s();!(b=h.n()).done;){var p=b.value;switch(p.typ){case"trinkwasserbrunnen":void 0===u.brunnen&&(u.brunnen=[]),u.brunnen.push(p);break;case"bimschNrw":case"bimschWuppertal":void 0===u.bimsch&&(u.bimsch=[]),u.bimsch.push(p);break;case"strassenmeisterei":void 0===u.strassenmeisterei&&(u.strassenmeisterei=[]),u.strassenmeisterei.push(p);break;case"naturschutzgebiete":case"landschaftsschutzgebiete":void 0===u.schutzgebiete&&(u.schutzgebiete=[]),u.schutzgebiete.push(p);break;case"autobahnmeisterei":void 0===u.autobahnmeisterei&&(u.autobahnmeisterei=[]),u.autobahnmeisterei.push(p);break;case"wasserschutzgebiete":void 0===u.wasserschutzgebiete&&(u.wasserschutzgebiete=[]),u.wasserschutzgebiete.push(p);break;case"wasserverbaende":void 0===u.verbaende&&(u.verbaende=[]),u.verbaende.push(p);break;case"StoerfallBetriebeKlasse1":case"StoerfallBetriebeKlasse2":void 0===u.stoerfallbetriebe&&(u.stoerfallbetriebe=[]),u.stoerfallbetriebe.push(p);break;case"stadtFlurstuecke":void 0===u.stadtFlurstuecke&&(u.stadtFlurstuecke=[]),p.dienststellen.split("#").length,u.stadtFlurstuecke.push(p)}}}catch(y){h.e(y)}finally{h.f()}}var j=Object(X.jsx)("table",{style:{width:"100%"},children:Object(X.jsx)("tbody",{children:Object(X.jsx)("tr",{children:Object(X.jsx)("td",{style:{textAlign:"left",verticalAlign:"top",background:"grey",color:"black",opacity:"0.9",paddingLeft:"4px",paddingTop:"0px",paddingBottom:"0px"},children:Object(X.jsxs)("span",{children:[" ","Analyseergebnis ",n===pe?"(Fadenkreuz)":"(Kartenfenster)",":"," ",Array.isArray(t)?t.length:"-"," Treffer"]})})})})}),f=30,g={border:0,borderStyle:"solid",fontSize:f,textAlign:"center",flexGrow:1},v={border:0,borderStyle:"solid",fontSize:f,textAlign:"center",color:"#dddddd",flexGrow:1},m={fontSize:12,minHeight:"18px"},x={display:"grid",gridGap:"5px",gridTemplateColumns:"repeat(3, 1fr)",verticalAlign:"center"};!0===i&&(f=23,m={fontSize:9,minHeight:"15px"},x={display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"center",verticalAlign:"center",alignContent:"space-around"});var O=Object(X.jsx)("div",{onClick:function(){d(!0)},children:Object(X.jsx)(be.a,{active:void 0===t,spinner:!0,text:"Suchen",children:Object(X.jsxs)("div",{style:x,children:[Object(X.jsxs)("div",{title:"Trinkwasserbrunnen",style:void 0!==(null===u||void 0===u?void 0:u.brunnen)?g:v,children:[Object(X.jsx)(ne.a,{style:{fontSize:f},icon:te.z}),Object(X.jsx)("div",{style:m,children:void 0!==(null===u||void 0===u?void 0:u.brunnen)?(null===u||void 0===u?void 0:u.brunnen[0].abstand)+" m"+((null===u||void 0===u?void 0:u.brunnen.length)>1?" (+"+((null===u||void 0===u?void 0:u.brunnen.length)-1)+")":""):""})]}),Object(X.jsxs)("div",{title:"BImschG-Anlagen",style:void 0!==(null===u||void 0===u?void 0:u.bimsch)?g:v,children:[Object(X.jsx)(ne.a,{style:{fontSize:f},icon:te.F}),Object(X.jsx)("div",{style:m,children:void 0!==(null===u||void 0===u?void 0:u.bimsch)?("bimschNrw"===(null===u||void 0===u?void 0:u.bimsch[0].typ)?"BRD - ":"UIB - ")+(null===u||void 0===u?void 0:u.bimsch[0].abstand)+" m"+((null===u||void 0===u?void 0:u.bimsch.length)>1?" (+"+((null===u||void 0===u?void 0:u.bimsch.length)-1)+")":""):""})]}),Object(X.jsxs)("div",{title:"Wasserschutzgebiete",style:void 0!==(null===u||void 0===u?void 0:u.wasserschutzgebiete)?g:v,children:[Object(X.jsx)(ne.a,{style:{fontSize:f},icon:te.D}),Object(X.jsx)("div",{style:m,children:void 0!==(null===u||void 0===u?void 0:u.wasserschutzgebiete)?"Zone: "+(null===u||void 0===u?void 0:u.wasserschutzgebiete[0].default_name)+((null===u||void 0===u?void 0:u.wasserschutzgebiete.length)>1?" (+"+((null===u||void 0===u?void 0:u.wasserschutzgebiete.length)-1)+")":""):""})]}),Object(X.jsxs)("div",{title:"St\xf6rfallbetriebe",style:void 0!==(null===u||void 0===u?void 0:u.stoerfallbetriebe)?g:v,children:[Object(X.jsx)(ne.a,{style:{fontSize:f},icon:te.v}),Object(X.jsx)("div",{style:m,children:void 0!==(null===u||void 0===u?void 0:u.stoerfallbetriebe)?(null===u||void 0===u?void 0:u.stoerfallbetriebe[0].default_name)+("StoerfallBetriebeKlasse1"===(null===u||void 0===u?void 0:u.stoerfallbetriebe[0].typ)?"-A1":"-A2")+((null===u||void 0===u?void 0:u.stoerfallbetriebe.length)>1?" (+"+((null===u||void 0===u?void 0:u.stoerfallbetriebe.length)-1)+")":""):""})]}),Object(X.jsxs)("div",{title:"St\xe4dtische Flurst\xfccke",style:void 0!==(null===u||void 0===u?void 0:u.stadtFlurstuecke)?g:v,children:[Object(X.jsx)(ne.a,{style:{fontSize:f},icon:te.p}),Object(X.jsx)("div",{style:m,children:void 0!==(null===u||void 0===u?void 0:u.stadtFlurstuecke)?(null===u||void 0===u?void 0:u.stadtFlurstuecke[0].default_name.split("#")[0])+((null===u||void 0===u?void 0:u.stadtFlurstuecke.length)>1?" (+"+((null===u||void 0===u?void 0:u.stadtFlurstuecke.length)-1)+")":""):""})]}),Object(X.jsxs)("div",{title:"Landschafts- und Naturschutzgebiete",style:void 0!==(null===u||void 0===u?void 0:u.schutzgebiete)?g:v,children:[Object(X.jsx)(ne.a,{style:{fontSize:f},icon:te.V}),Object(X.jsx)("div",{style:m,children:void 0!==(null===u||void 0===u?void 0:u.schutzgebiete)?("naturschutzgebiete"===(null===u||void 0===u?void 0:u.schutzgebiete[0].typ)?"NSG":"LSG")+((null===u||void 0===u?void 0:u.schutzgebiete.length)>1?" (+"+((null===u||void 0===u?void 0:u.schutzgebiete.length)-1)+")":""):""})]})]})})});return Object(X.jsx)(de.a,{panelClick:function(){},pixelwidth:300,header:j,collapsedInfoBox:i,setCollapsedInfoBox:o,isCollapsible:!0,collapsibleStyle:{paddingLeft:0},handleResponsiveDesign:!0,infoStyle:{padding:"0px"},alwaysVisibleDiv:i?O:null,collapsibleDiv:i?null:O,fixedRow:!0,secondaryInfoBoxElements:[Object(X.jsx)("div",{children:Object(X.jsx)(S.a,{variant:s?"success":"secondary",title:s?"aus Karte ausblenden":"in Karte anzeigen",style:{marginBottom:5},onClick:function(){a(!s)},children:Object(X.jsx)(ne.a,{icon:te.I})})})]})},fe=n(94),ge=n(260),ve=n(262),me=n(255),xe=n(133),Oe=n(167),ye=n(194),ke="1.0.5",we=function(){return ke},ze=function(){var e=Object(r.useContext)(B.b).setAppMenuActiveMenuSection;return Object(X.jsxs)("div",{style:{fontSize:"11px"},children:[Object(X.jsx)("b",{children:"Hintergrundkarten"}),": Stadtkarte 2.0 \xa9 RVR | True Orthophoto 2020 \xa9 Stadt Wuppertal | Openmaptiles basierte Vectorkarte (hosted by cismet)"," ",Object(X.jsx)("a",{className:"pleaseRenderAsLink",onClick:function(){e("help"),ye.scroller.scrollTo("Datengrundlage",{containerId:"myMenu"})},children:"(Details und Nutzungsbedingungen)"}),Object(X.jsx)("br",{}),Object(X.jsxs)("div",{children:[Object(X.jsxs)("b",{children:[document.title," v",we()]}),":"," ",Object(X.jsx)("a",{href:"https://cismet.de/",target:"_cismet",children:"cismet GmbH"})," ","auf Basis von"," ",Object(X.jsx)("a",{href:"http://leafletjs.com/",target:"_more",children:"Leaflet"})," ","und"," ",Object(X.jsxs)("a",{href:"https://cismet.de/#refs",target:"_cismet",children:["cids | react-cismap v",Oe.a]})," ","|"," ",Object(X.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://cismet.de/datenschutzerklaerung.html",children:"Datenschutzerkl\xe4rung (Privacy Policy)"})]})]})},Se=function(){return Object(X.jsx)(me.a,{menuIcon:"bars",menuTitle:"Einstellungen und Kompaktanleitung",menuIntroduction:Object(X.jsxs)("span",{children:["\xdcber ",Object(X.jsx)("strong",{children:"Einstellungen"})," k\xf6nnen Sie die Darstellung der Hintergrundkarte und der Objekte an Ihre Vorlieben anpassen. W\xe4hlen Sie ",Object(X.jsx)("strong",{children:"Kompaktanleitung"})," f\xfcr detailliertere Bedienungsinformationen."]}),menuSections:[Object(X.jsx)(ve.a,{skipFilterTitleSettings:!0,skipClusteringSettings:!0,skipSymbolsizeSetting:!0,previewMapPosition:"lat=51.26237138174926&lng=7.236986160278321&zoom=16"},"settings"),Object(X.jsx)(xe.a,{sectionKey:"legend",sectionTitle:"Legende der Fachdaten",sectionBsStyle:"info",sectionContent:Object(X.jsx)("div",{children:Object(X.jsxs)("ul",{style:{listStyleType:"none"},children:[Object(X.jsxs)("li",{children:[Object(X.jsx)("img",{style:{padding:5,marginRight:15},width:"50px",alt:"Legendenbild",src:"./images/Legende_Wupperverband.png"}),"Gew\xe4sser Wupperverband"]}),Object(X.jsxs)("li",{children:[Object(X.jsx)("img",{style:{padding:5,marginRight:15},width:"50px",alt:"Legendenbild",src:"./images/Legende_BRWasserverband.png"}),"Gew\xe4sser Bergisch-Rheinischer Wasserverband / Ruhrverband"]}),Object(X.jsxs)("li",{children:[Object(X.jsx)("img",{style:{padding:5,marginRight:15},width:"50px",alt:"Legendenbild",src:"./images/Legende_Verrohrung.png"}),"Gew\xe4sserverrohrungen"]}),Object(X.jsxs)("li",{children:[Object(X.jsx)("img",{style:{padding:5,marginRight:15},width:"50px",alt:"Legendenbild",src:"./images/Legende_Schmutzkanal.png"}),"Schmutzwasserkanal"]}),Object(X.jsxs)("li",{children:[Object(X.jsx)("img",{style:{padding:5,marginRight:15},width:"50px",alt:"Legendenbild",src:"./images/Legende_Regenkanal.png"}),"Regenwasserkanal"]}),Object(X.jsxs)("li",{children:[Object(X.jsx)("img",{style:{padding:5,marginRight:15},width:"50px",alt:"Legendenbild",src:"./images/Legende_Mischkanal.png"}),"Mischwasserkanal"]}),Object(X.jsxs)("li",{children:[Object(X.jsx)("img",{style:{padding:5,marginRight:15},width:"50px",alt:"Legendenbild",src:"./images/Legende_Privatkanal.png"}),"Privatkanal"]}),Object(X.jsxs)("li",{children:[Object(X.jsx)("img",{style:{padding:5,marginRight:15},width:"50px",alt:"Legendenbild",src:"./images/Legende_Fliessrichtung.png"}),"Flie\xdfrichtungspfeil (jeweils in der Farbe des zugeh\xf6rigen Kanalnetzes)"]}),Object(X.jsxs)("li",{children:[Object(X.jsx)("img",{style:{padding:5,marginRight:15},width:"50px",alt:"Legendenbild",src:"./images/Legende_Schachtdeckel.png"}),"Schachtdeckel (jeweils in der Farbe des zugeh\xf6rigen Kanalnetzes)"]}),Object(X.jsxs)("li",{children:[Object(X.jsx)("img",{style:{padding:5,margin:10,marginRight:24,marginTop:10},width:"30px",alt:"Legendenbild",src:"./images/Legende_Trinkwasserbrunnen.png"}),"Trinkwasserbrunnen"]})]})})},"legend"),Object(X.jsx)(xe.a,{sectionKey:"help",sectionTitle:"Kompaktanleitung",sectionBsStyle:"default",sectionContent:Object(X.jsx)(ge.a,{configs:Object(fe.b)(document.title,undefined)})},"help")],menuFooter:Object(X.jsx)(ze,{})})},Ae=n(80),Fe=n(471),Le=n(272),Be=function(e){var t={};if(e){var n,r=Object(l.a)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;void 0===a.ansprechpartner&&(a.ansprechpartner={firma:"",name:""}),t[a.typ]?t[a.typ].push(a):t[a.typ]=[a]}}catch(s){r.e(s)}finally{r.f()}}return t},_e=Object(X.jsx)("div",{style:{fontSize:"11px"},children:Object(X.jsxs)("div",{children:[Object(X.jsxs)("b",{children:[document.title," v",we()]}),":"," ",Object(X.jsx)("a",{href:"https://cismet.de/",target:"_cismet",children:"cismet GmbH"})," ","auf Basis von"," ",Object(X.jsx)("a",{href:"http://leafletjs.com/",target:"_more",children:"Leaflet"})," ","und"," ",Object(X.jsxs)("a",{href:"https://cismet.de/#refs",target:"_cismet",children:["cids | react-cismap v",Oe.a]})," ","|"," ",Object(X.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://cismet.de/datenschutzerklaerung.html",children:"Datenschutzerkl\xe4rung (Privacy Policy)"})]})}),Ce=function(e){var t=[],n=+JSON.stringify(e);return e.tel&&t.push(Object(X.jsx)("span",{style:{padding:4},children:Object(X.jsx)(Ae.a,{tooltip:"Ansprechpartner Anrufen",href:"tel:"+e.tel,iconname:"phone"},"IconLink.tel"+n)},"span.tel"+n)),e.email&&t.push(Object(X.jsx)("span",{style:{padding:4},children:Object(X.jsx)(Ae.a,{tooltip:"E-Mail an Ansprechpartner schreiben",href:"mailto:"+e.email,iconname:"envelope-square",target:"_blank"},"IconLink.email"+n)},"span.email"+n)),e.url&&t.push(Object(X.jsx)("span",{style:{padding:4},children:Object(X.jsx)(Ae.a,{tooltip:"Webseite",href:e.url,target:"_blank",iconname:"external-link-square"},"IconLink.web"+n)},"span.web"+n)),t},De=function(e){return Array.isArray(e)?Object(X.jsx)("div",{children:e.map((function(e,t){return Object(X.jsxs)("div",{children:[t>0&&Object(X.jsx)("br",{}),Object(X.jsx)("div",{style:{paddingLeft:10,paddingRight:10,float:"right",paddingBottom:"5px"},children:Ce(e)}),Object(X.jsx)("div",{children:e.firma}),Object(X.jsx)("div",{children:e.name}),Object(X.jsx)("div",{children:e.bemerkung})]},"ansprech_"+t)}))}):Object(X.jsxs)("div",{children:[Object(X.jsx)("div",{style:{paddingLeft:10,paddingRight:10,float:"right",paddingBottom:"5px"},children:Ce(e)}),Object(X.jsx)("div",{children:e.firma}),Object(X.jsx)("div",{children:e.name}),Object(X.jsx)("div",{children:e.bemerkung})]})},Ke=function(e,t){var n=e.split("#");return Object(X.jsx)("span",{children:n.map((function(e,r){var a=e===(null===t||void 0===t?void 0:t.firma.trim())&&n.length>1?{borderBottom:"1px solid black"}:{};return Object(X.jsxs)("span",{style:a,children:[r>0?", ":"",e]},"dienstst.span."+r)}))})},Pe=function(e){return Object(X.jsx)("div",{style:{width:"100%",height:"12px",borderBottom:"1px solid #eeeeee",textAlign:"center",marginBottom:"15px",marginTop:"5px"},children:Object(X.jsx)("span",{style:{fontSize:"16px",backgroundColor:"#FFFFFF",xcolor:"#aaa",padding:"0 10px"},children:e})})},Ie=function(e){var t=e.hits,n=Object(r.useContext)(f.a).history,a=new URLSearchParams(n.location.search).get("lat"),s=new URLSearchParams(n.location.search).get("lng"),i=null!==new URLSearchParams(n.location.search).get("showRawData"),c=Be(t);if(void 0!==t){var o=[],d=function(e,t,n){return t&&void 0===n&&!1===Array.isArray(t)?Object(X.jsxs)("div",{children:[Object(X.jsxs)("b",{children:[e,":"]})," ",t]}):t&&void 0===n&&!0===Array.isArray(t)?Object(X.jsxs)("div",{children:[Object(X.jsxs)("b",{children:[e,":"]})," ",t.join(", ")]}):t&&void 0!==n?Object(X.jsxs)("div",{children:[Object(X.jsxs)("b",{children:[e,":"]})," ",n(t)]}):void 0};if(void 0!==t&&((c.wasserverbaende||c.autobahnmeisterei||c.strassenmeisterei||c.stadtFlurstuecke)&&o.push(Object(X.jsxs)(Le.a,{bsStyle:"success",header:"Zust\xe4ndigkeiten",children:[c.wasserverbaende&&Pe("Wasserverband"),c.wasserverbaende&&c.wasserverbaende.map((function(e,t){return Object(X.jsx)("div",{children:e.ansprechpartner&&De(e.ansprechpartner)},"wasserverbaende_"+t)})),c.autobahnmeisterei&&Pe("Autobahnmeisterei"),c.autobahnmeisterei&&c.autobahnmeisterei.map((function(e,t){return Object(X.jsxs)("div",{children:[t>0&&Object(X.jsx)("br",{}),e.ansprechpartner&&De(e.ansprechpartner)]},"autm_"+t)})),c.strassenmeisterei&&Pe("Stra\xdfenmeisterei"),c.strassenmeisterei&&Object(X.jsx)("div",{children:c.strassenmeisterei[0].ansprechpartner&&De(c.strassenmeisterei[0].ansprechpartner)}),c.stadtFlurstuecke&&Pe("Stadt Wuppertal"),c.stadtFlurstuecke&&c.stadtFlurstuecke.length>1&&Object(X.jsxs)("div",{children:[Object(X.jsxs)("div",{children:["Es wurden ",c.stadtFlurstuecke.length," Flurst\xfccke gefunden. Nachfolgend wird das Flurst\xfcck mit dem geringsten Abstand zum Fadenkreuz angezeigt."]}),Object(X.jsx)("br",{}),Object(X.jsxs)("div",{children:[Object(X.jsxs)("div",{children:[Object(X.jsx)("b",{children:"Flurst\xfcck: "}),c.stadtFlurstuecke[0].flurstueck]}),Object(X.jsxs)("div",{children:[c.stadtFlurstuecke[0].dienststellen.split("#").length>1&&Object(X.jsx)("b",{children:"Dienststellen: "}),c.stadtFlurstuecke[0].dienststellen.split("#").length<=1&&Object(X.jsx)("b",{children:"Dienststelle: "}),Ke(c.stadtFlurstuecke[0].dienststellen,Array.isArray(c.stadtFlurstuecke[0].ansprechpartner)?c.stadtFlurstuecke[0].ansprechpartner[0]:c.stadtFlurstuecke[0].ansprechpartner)]}),Object(X.jsx)("br",{}),c.stadtFlurstuecke[0].ansprechpartner&&De(Array.isArray(c.stadtFlurstuecke[0].ansprechpartner)?c.stadtFlurstuecke[0].ansprechpartner[0]:c.stadtFlurstuecke[0].ansprechpartner)]})]}),c.stadtFlurstuecke&&1===c.stadtFlurstuecke.length&&c.stadtFlurstuecke.map((function(e,t){return Object(X.jsxs)("div",{children:[t>0&&Object(X.jsx)("br",{}),Object(X.jsxs)("div",{children:[Object(X.jsx)("b",{children:"Flurst\xfcck: "}),e.flurstueck]}),Object(X.jsxs)("div",{children:[e.dienststellen.split("#").length>1&&Object(X.jsx)("b",{children:"Dienststellen: "}),e.dienststellen.split("#").length<=1&&Object(X.jsx)("b",{children:"Dienststelle: "}),Ke(e.dienststellen,Array.isArray(e.ansprechpartner)?e.ansprechpartner[0]:e.ansprechpartner)]}),Object(X.jsx)("br",{}),e.ansprechpartner&&De(Array.isArray(e.ansprechpartner)?e.ansprechpartner[0]:e.ansprechpartner)]},"stadtFlurstuecke_"+t)}))]},"standort"+c.id)),(c.trinkwasserbrunnen||c.bimschWuppertal||c.bimschNrw||c.wasserschutzgebiete||c.naturschutzgebiete||c.landschaftsschutzgebiete||c.StoerfallBetriebeKlasse1||c.StoerfallBetriebeKlasse2)&&o.push(Object(X.jsxs)(Le.a,{bsStyle:"primary",header:"Schutzgebiete und Anlagen",children:[c.trinkwasserbrunnen&&Pe("Trinkwasserbrunnen"),c.trinkwasserbrunnen&&c.trinkwasserbrunnen.map((function(e,t){return Object(X.jsxs)("div",{children:[t>0&&Object(X.jsx)("br",{}),Object(X.jsxs)("div",{children:[Object(X.jsx)("b",{children:"Abstand: "}),e.abstand," m"]}),Object(X.jsxs)("div",{children:[Object(X.jsx)("b",{children:"Adresse: "}),e.str_name+" "+e.hsnr+(e.zusatz?e.zusatz:"")]}),Object(X.jsx)("br",{}),e.ansprechpartner&&De(e.ansprechpartner)]},"trinkwasserbrunnen_"+t)})),c.bimschWuppertal&&Pe("BImschG-Anlage Wuppertal"),c.bimschWuppertal&&c.bimschWuppertal.map((function(e,t){return Object(X.jsxs)("div",{children:[t>0&&Object(X.jsx)("br",{}),Object(X.jsxs)("div",{children:[Object(X.jsx)("b",{children:"Betrieb: "}),e.b_firma1]}),Object(X.jsxs)("div",{children:[Object(X.jsx)("b",{children:"Anlage: "}),e.anlag_bez]}),Object(X.jsx)("br",{}),e.ansprechpartner&&De(e.ansprechpartner)]},"bimschWupp_"+t)})),c.bimschNrw&&Pe("BImschG-Anlage NRW"),c.bimschNrw&&c.bimschNrw.map((function(e,t){return Object(X.jsxs)("div",{children:[t>0&&Object(X.jsx)("br",{}),Object(X.jsxs)("div",{children:[Object(X.jsx)("b",{children:"Betrieb: "}),e.b_firma1]}),Object(X.jsxs)("div",{children:[Object(X.jsx)("b",{children:"Anlage: "}),e.anlag_bez]}),Object(X.jsx)("br",{}),e.ansprechpartner&&De(e.ansprechpartner)]},"bimschNrw_"+t)})),c.wasserschutzgebiete&&Pe("Wasserschutzgebiet"),c.wasserschutzgebiete&&c.wasserschutzgebiete.map((function(e,t){return Object(X.jsxs)("div",{children:[t>0&&Object(X.jsx)("br",{}),e.name&&Object(X.jsx)("div",{children:e.name}),Object(X.jsxs)("div",{children:[Object(X.jsx)("b",{children:"Schutzzone: "}),e.zone]}),Object(X.jsx)("br",{}),e.ansprechpartner&&De(e.ansprechpartner)]},"wasser_"+t)})),c.naturschutzgebiete&&Pe("Naturschutzgebiet"),c.naturschutzgebiete&&c.naturschutzgebiete.map((function(e,t){return Object(X.jsxs)("div",{children:[t>0&&Object(X.jsx)("br",{}),Object(X.jsx)("div",{children:e.nrw_name}),Object(X.jsxs)("div",{children:[Object(X.jsx)("b",{children:"Objektkennung: "}),e.nrw_nummer]}),Object(X.jsx)("br",{}),e.ansprechpartner&&De(e.ansprechpartner)]},"natur_"+t)})),c.landschaftsschutzgebiete&&Pe("Landschaftsschutzgebiet"),c.landschaftsschutzgebiete&&c.landschaftsschutzgebiete.map((function(e,t){return Object(X.jsxs)("div",{children:[t>0&&Object(X.jsx)("br",{}),Object(X.jsxs)("div",{children:[Object(X.jsx)("b",{children:"Schutzgebietstyp: "}),"LS"===e.sg_typ?"Landschaftsschutzgebiet":e.sg_typ]}),Object(X.jsx)("br",{}),e.ansprechpartner&&De(e.ansprechpartner)]},"landschaft_"+t)})),c.StoerfallBetriebeKlasse1&&Pe("St\xf6rfallbetrieb Abstandsklasse 1"),c.StoerfallBetriebeKlasse1&&c.StoerfallBetriebeKlasse1.map((function(e,t){return Object(X.jsxs)("div",{children:[t>0&&Object(X.jsx)("br",{}),Object(X.jsxs)("div",{children:[Object(X.jsx)("b",{children:"Betrieb: "}),e.betrieb]}),Object(X.jsxs)("div",{children:[Object(X.jsx)("b",{children:"Lage: "}),e.lage]}),Object(X.jsx)("br",{}),e.ansprechpartner&&De(e.ansprechpartner)]},"stoer1_"+t)})),c.StoerfallBetriebeKlasse2&&Pe("St\xf6rfallbetrieb Abstandsklasse 2"),c.StoerfallBetriebeKlasse2&&c.StoerfallBetriebeKlasse2.map((function(e,t){return Object(X.jsxs)("div",{children:[t>0&&Object(X.jsx)("br",{}),Object(X.jsxs)("div",{children:[Object(X.jsx)("b",{children:"Betrieb: "}),e.betrieb]}),Object(X.jsxs)("div",{children:[Object(X.jsx)("b",{children:"Lage: "}),e.lage]}),Object(X.jsx)("br",{}),e.ansprechpartner&&De(e.ansprechpartner)]},"stoer2_"+t)}))]},"standort")),i)){var u,b=JSON.parse(JSON.stringify(t)),h=Object(l.a)(b);try{for(h.s();!(u=h.n()).done;){delete u.value.geojson}}catch(j){h.e(j)}finally{h.f()}var p=Be(b);o.push(Object(X.jsx)(Le.a,{bsStyle:"info",header:"Trefferobjekte (Raw Data ohne Geometrie): "+t.length+" Treffer",children:Object(X.jsx)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:Object(X.jsx)("pre",{children:JSON.stringify(p,null,2)},"hitObject")})},"standort"))}return Object(X.jsx)(Fe.a,{titleIconName:"info-circle",title:"Datenblatt zu: "+Math.round(1e4*a)/1e4+", "+Math.round(1e3*s)/1e3,mainSection:Object(X.jsx)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:Object(X.jsxs)("div",{children:["Die Suche an der angegebene Position hat insgesamt ",t.length," Treffer ergeben:",d("Bezeichnung",null===t||void 0===t?void 0:t.bezeichnung),d("Fl\xe4chengr\xf6\xdfe",null===t||void 0===t?void 0:t.groesse,(function(e){return Object(X.jsxs)("span",{children:[e.toLocaleString()," m\xb2 (circa"," ",(Math.round(e/1e4*10)/10).toLocaleString()," ha)"]})})),d("Stadtbezirk(e)",null===t||void 0===t?void 0:t.stadtbezirke,(function(e){return e.join(", ")})),d("Quartier(e)",null===t||void 0===t?void 0:t.quartiere,(function(e){return e.join(", ")})),d("Eigent\xfcmer",null===t||void 0===t?void 0:t.eigentuemer,(function(e){return e.join(", ")}))]})}),subSections:o,footer:_e})}return null},Ne=function(){var e=Object(r.useContext)(L.a).windowSize;return Object(X.jsxs)("div",{children:[Object(X.jsx)("div",{style:{position:"absolute",top:((null===e||void 0===e?void 0:e.height)||500)/2-1,width:(null===e||void 0===e?void 0:e.width)||"100%",height:"2px",backgroundColor:"#00000023",zIndex:"100000",pointerEvents:"none"}}),Object(X.jsx)("div",{style:{position:"absolute",left:((null===e||void 0===e?void 0:e.width)||500)/2-1,height:(null===e||void 0===e?void 0:e.height)||"100%",width:"2px",backgroundColor:"#00000023",zIndex:"100000",pointerEvents:"none"}}),Object(X.jsx)("div",{style:{borderRadius:"50%",position:"absolute",left:((null===e||void 0===e?void 0:e.width)||500)/2-10,top:((null===e||void 0===e?void 0:e.height)||500)/2-10,height:"20px",width:"20px",backgroundColor:"#00000023",zIndex:"100000",pointerEvents:"none"}})]})},Te="https://wupp-topicmaps-data.cismet.de",We=function(){var e=Object(u.a)(d.a.mark((function e(t){var n,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="GazDataForStories",r={},e.next=4,Object(_.d)(n,Te+"/data/3857/adressen.json");case 4:return r.adressen=e.sent,e.next=7,Object(_.d)(n,Te+"/data/3857/bezirke.json");case 7:return r.bezirke=e.sent,e.next=10,Object(_.d)(n,Te+"/data/3857/quartiere.json");case 10:return r.quartiere=e.sent,e.next=13,Object(_.d)(n,Te+"/data/3857/pois.json");case 13:return r.pois=e.sent,e.next=16,Object(_.d)(n,Te+"/data/3857/kitas.json");case 16:r.kitas=e.sent,a=Object(ie.b)(r,["pois","kitas","bezirke","quartiere","adressen"]),t(a);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(e){var t=JSON.parse(JSON.stringify(e)),n=null===t||void 0===t?void 0:t.geojson,r=null===t||void 0===t?void 0:t.bezeichnung;switch(t.typ){case"naturschutzgebiete":r=null===t||void 0===t?void 0:t.nrw_name,t.color="#649351";break;case"landschaftsschutzgebiete":r="Landschaftsschutzgebiet",t.color="#97C146";break;case"stadtFlurstuecke":r=null===t||void 0===t?void 0:t.flurstueck,t.color="#dddddd",t.opcaity=.3;break;case"trinkwasserbrunnen":r=(null===t||void 0===t?void 0:t.str_name)+" "+(null===t||void 0===t?void 0:t.hsnr),t.color="#A7DBD8",t.opcaity=.3;break;case"bimschWuppertal":case"bimschNrw":r=null===t||void 0===t?void 0:t.b_firma1,t.color="#774F38";break;case"wasserschutzgebiete":r=null===t||void 0===t?void 0:t.zone,"I"===(null===t||void 0===t?void 0:t.zone)?t.color="#F4C900":"II"===(null===t||void 0===t?void 0:t.zone)?t.color="#FAE842":"III"===(null===t||void 0===t?void 0:t.zone)?t.color="#FFFF99":t.color="#69D2E7";break;case"StoerfallBetriebeKlasse1":r=null===t||void 0===t?void 0:t.betrieb,t.color="#DD4A36";break;case"StoerfallBetriebeKlasse2":r=null===t||void 0===t?void 0:t.betrieb,t.color="#DD4A36",t.opacity=.3;break;default:return}return{id:t.typ+"."+t.id,text:r,type:"Feature",selected:!1,geometry:n,crs:(null===n||void 0===n?void 0:n.crs)||{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::25832"}},properties:t}},Ee=function(e){var t,n,r;return{fillColor:new se.a((null===e||void 0===e||null===(t=e.properties)||void 0===t?void 0:t.color)||"#ff0000"),color:new se.a((null===e||void 0===e||null===(n=e.properties)||void 0===n?void 0:n.color)||"#ff0000").darken(.5),opacity:.5,fillOpacity:(null===e||void 0===e||null===(r=e.properties)||void 0===r?void 0:r.opacity)||.6,weight:.5}};var Me=function(e){var t,n=e.loggedOut,a=e.initialised,s=Object(r.useContext)(f.a).routedMapRef,i=null===s||void 0===s||null===(t=s.leafletMap)||void 0===t?void 0:t.leafletElement,c=null===i||void 0===i?void 0:i.getZoom(),o=Object(r.useState)([]),d=Object(b.a)(o,2),u=d[0],h=d[1],p=Object(r.useState)(!1),g=Object(b.a)(p,2),v=g[0],m=g[1],x=Object(r.useState)([]),O=Object(b.a)(x,2),y=O[0],k=O[1],w=Object(r.useState)(pe),z=Object(b.a)(w,2),S=z[0],A=z[1],F=Object(r.useState)([]),B=Object(b.a)(F,2),_=B[0],C=B[1],D=Object(r.useState)(),K=Object(b.a)(D,2),P=K[0],I=K[1],N=Object(r.useContext)(L.a).windowSize;Object(r.useEffect)((function(){We(h)}),[]),Object(r.useEffect)((function(){var e,t=[],n=Object(l.a)(y||[]);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=Re(r);a&&t.push(a)}}catch(s){n.e(s)}finally{n.f()}C(t)}),[y]);var T=c&&c>=16;return Object(X.jsxs)("div",{children:[Object(X.jsx)(Ne,{}),Object(X.jsxs)(ce.a,{gazData:u,modalMenu:Object(X.jsx)(Se,{}),homeZoom:13,maxZoom:22,applicationMenuTooltipString:"Einstellungen | Legende | Kompaktanleitung",secondaryInfo:N&&Object(X.jsx)(Ie,{hits:y}),locatorControl:!0,mappingBoundsChanged:function(e){k(void 0);var t=[e.left,e.bottom,e.right,e.top],n=Object(re.a)(t),r=Object(M.a)(n);U(He,Ve,r).then((function(e){A(pe),k(e),I(n)}))},children:[!n&&Object(X.jsx)(je,{mode:S,isFeatureCollectionVisible:v,setFeatureCollectionVisible:m,hits:y}),v&&Object(X.jsx)(j.a,{style:Ee,featureCollection:_}),Object(X.jsx)(oe.a,{className:"leaflet-bar",position:"topleft",children:Object(X.jsx)("button",{title:"Objekte im Kartenfenster suchen",disabled:!T,onClick:function(){k(),U(He,Ve,P).then((function(e){A(he),k(e)}))},className:"easy-button-button leaflet-bar-part leaflet-interactive unnamed-state-active",children:Object(X.jsxs)("span",{style:{color:T?"#444444":"#bbbbbb"},className:"fa-layers fa-fw ",children:[Object(X.jsx)(ne.a,{transform:"grow-9",icon:te.N,size:"lg"}),Object(X.jsx)(ne.a,{transform:"shrink-8 up-2 left-2.3",icon:te.Q,size:"lg"})]})})})]})]},null!=a?a:"init")},Ge=n(464),qe={rules:[{origin:"https://omt.map-hosting.de/fonts/Metropolis Medium Italic,Noto",cachePath:"fonts/Open"},{origin:"https://omt.map-hosting.de/fonts/Klokantech Noto",cachePath:"fonts/Open"},{origin:"https://omt.map-hosting.de/fonts/Metropolis Regular,Noto",cachePath:"fonts/Open",realServerFallback:!1},{origin:"https://omt.map-hosting.de/fonts",cachePath:"fonts"},{origin:"https://omt.map-hosting.de/styles",cachePath:"styles"},{origin:"https://omt.map-hosting.de/data/v3",cachePath:"tiles"},{origin:"https://omt.map-hosting.de/data/gewaesser",cachePath:"tiles.gewaesser"},{origin:"https://omt.map-hosting.de/data/kanal",cachePath:"tiles.kanal"},{origin:"https://omt.map-hosting.de/data/brunnen",cachePath:"tiles.brunnen"}],dataStores:[{name:"Vektorkarte f\xfcr Wuppertal",key:"wuppBasemap",url:"https://offline-data.cismet.de/offline-data/wupp.zip"},{name:"Gew\xe4sser, Kanal und Brunnendaten",key:"umweltalarm",url:"https://offline-data.cismet.de/offline-data/umweltalarm.zip"}],offlineStyles:["https://omt.map-hosting.de/styles/cismet-light/style.json","https://omt.map-hosting.de/styles/osm-bright-grey/style.json","https://omt.map-hosting.de/styles/brunnen/style.json","https://omt.map-hosting.de/styles/kanal/style.json","https://omt.map-hosting.de/styles/gewaesser/style.json"],realServerFallback:!0,consoleDebug:!1,optional:!0,initialActive:!0},Je="umweltalarm.Online.Wuppertal",Ue="https://umweltalarm-api.cismet.de",Ve=["StoerfallBetriebeKlasse1","StoerfallBetriebeKlasse2","wasserverbaende","wasserschutzgebiete","autobahnmeisterei","landschaftsschutzgebiete","naturschutzgebiete","strassenmeisterei","bimschNrw","bimschWuppertal","trinkwasserbrunnen","stadtFlurstuecke"],He=function(e,t){var n,r=new D.a(e),a={},s=Object(l.a)(t);try{for(s.s();!(n=s.n()).done;){a[n.value]="gid"}}catch(i){s.e(i)}finally{s.f()}return a.daq_meta="++id,name,md5,time",a.anprechp="id",a.zustaendigkeit="id,tabelle,referenzfeld,referenz,[tabelle+referenzfeld+referenz]",r.version(10).stores(a),r}(Je,Ve);var Ze=function(){var e;Object(r.useEffect)((function(){document.title="Umweltalarm Wuppertal"}),[]);var t=null!==new URLSearchParams(window.location.href).get("consoleOverlay"),n=Object(r.useState)(),a=Object(b.a)(n,2),s=a[0],i=a[1],o=Object(r.useState)(),h=Object(b.a)(o,2),x=h[0],O=h[1],y=Object(r.useState)(),k=Object(b.a)(y,2),w=k[0],z=k[1],S=Object(r.useState)(),A=Object(b.a)(S,2),F=A[0],L=A[1],B=Object(r.useState)(!1),_=Object(b.a)(B,2),C=_[0],D=_[1],K=function(e){p.a.setItem("@"+Je+".auth.jwt",e),i(e)};Object(r.useEffect)((function(){Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.getItem("@"+Je+".auth.jwt");case 2:(t=e.sent)?(K(t),O(!1),D(!0)):(K(void 0),O(!0),D(!0));case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(r.useEffect)((function(){if(s){var e,t=[],n=Object(l.a)(Ve);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(P(Je,Ue,s,r,He))}}catch(a){n.e(a)}finally{n.f()}t.push(P(Je,Ue,s,"ansprechpartner",He)),t.push(P(Je,Ue,s,"ansprechpartnerZustaendigkeit",He)),Promise.all(t).then((function(e){var t,n=Object(l.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;"ansprechpartner"===r.daqKey&&Array.isArray(r.data)?N(r.data,"ansprechpartner",He):"ansprechpartnerZustaendigkeit"===r.daqKey&&Array.isArray(r.data)&&T(r.data,"ansprechpartnerZustaendigkeit",He)}}catch(a){n.e(a)}finally{n.f()}L("initialised complete")}),(function(e){K(void 0),z({color:"#F9D423",text:"Bitte melden Sie sich erneut an."}),setTimeout((function(){z()}),2500)}))}else O(!0)}),[s]),e=-1===Object(g.a)()?[{title:"Stadtplan",mode:"default",layerKey:"stadtplan"},{title:"Stadtplan (grau)",mode:"default",layerKey:"vectorCityMap2",offlineDataStoreKey:"wuppBasemap"},{title:"Stadtplan (bunt)",mode:"default",layerKey:"vectorCityMap",offlineDataStoreKey:"wuppBasemap"},{title:"Luftbildkarte",mode:"default",layerKey:"lbk"}]:[{title:"Stadtplan",mode:"default",layerKey:"stadtplan"},{title:"Luftbildkarte",mode:"default",layerKey:"lbk"}];var I=Object(c.a)({},v.b);I.namedLayers.cismetLight||(I.namedLayers.cismetLight={type:"vector",style:"https://omt.map-hosting.de/styles/cismet-light/style.json",offlineAvailable:!0,offlineDataStoreKey:"wuppBasemap",pane:"backgroundvectorLayers"}),I.namedLayers.osmBrightOffline||(I.namedLayers.osmBrightOffline={type:"vector",style:"https://omt.map-hosting.de/styles/osm-bright-grey/style.json",offlineAvailable:!0,offlineDataStoreKey:"wuppBasemap",pane:"backgroundvectorLayers"});var W=null;return x&&!0===C&&void 0===s&&(W=Object(X.jsx)($,{setJWT:K,loginInfo:w,setLoginInfo:z,setLoggedOut:O},"login.")),Object(X.jsxs)(f.c,{additionalLayerConfiguration:{brunnen:{title:Object(X.jsx)("span",{children:"Trinkwasserbrunnen"}),initialActive:!1,layer:Object(X.jsx)(m.a,{style:"https://omt.map-hosting.de/styles/brunnen/style.json",pane:"additionalLayers0",offlineAvailable:!0,offlineDataStoreKey:"umweltalarm"},"brunnen"),offlineDataStoreKey:"umweltalarm"},kanal:{title:Object(X.jsx)("span",{children:"Kanalnetz"}),initialActive:!1,layer:Object(X.jsx)(m.a,{style:"https://omt.map-hosting.de/styles/kanal/style.json",pane:"additionalLayers1",offlineAvailable:!0,offlineDataStoreKey:"umweltalarm"},"kanal"),offlineDataStoreKey:"umweltalarm"},gewaesser:{title:Object(X.jsx)("span",{children:"Gew\xe4ssernetz"}),initialActive:!1,layer:Object(X.jsx)(m.a,{style:"https://omt.map-hosting.de/styles/gewaesser/style.json",pane:"additionalLayers2",offlineAvailable:!0,offlineDataStoreKey:"umweltalarm"},"gewaesser"),offlineDataStoreKey:"umweltalarm"}},baseLayerConf:I,offlineCacheConfig:qe,backgroundConfigurations:{lbk:{layerkey:"rvrGrundriss@100|trueOrtho2020@75|rvrSchriftNT@100",src:"/images/rain-hazard-map-bg/ortho.png",title:"Luftbildkarte"},stadtplan:{layerkey:"wupp-plan-live@60",src:"/images/rain-hazard-map-bg/citymap.png",title:"Stadtplan"},vectorCityMap2:{layerkey:"cismetLight",src:"/images/rain-hazard-map-bg/citymap.png",title:"Stadtplan"},vectorCityMap:{layerkey:"osmBrightOffline",src:"/images/rain-hazard-map-bg/citymap.png",title:"Stadtplan"}},backgroundModes:e,referenceSystem:j.c.crs3857,mapEPSGCode:"3857",referenceSystemDefinition:j.c.proj4crs3857def,maskingPolygon:"POLYGON((668010.063156992 6750719.23021889,928912.612468322 6757273.20343972,930494.610325512 6577553.43685138,675236.835570551 6571367.64964125,668010.063156992 6750719.23021889))",children:[W,!x&&Object(X.jsx)(ee,{logout:function(){K(void 0),O(!0),z({color:"#69D2E7",text:"Sie wurden erfolgreich abgemeldet."}),setTimeout((function(){z()}),2500)},jwt:s}),t&&Object(X.jsx)(Ge.a,{ghostModeAvailable:!0,minifyAvailable:!0}),Object(X.jsx)(Me,{loggedOut:x,initialised:F})]})},Ye=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,880)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),s(e),i(e)}))},Qe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Xe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(Object(X.jsx)(a.a.StrictMode,{children:Object(X.jsx)(Ze,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");Qe?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Xe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Xe(t,e)}))}}(),Ye()}},[[869,1,2]]]);
//# sourceMappingURL=main.ea95d526.chunk.js.map